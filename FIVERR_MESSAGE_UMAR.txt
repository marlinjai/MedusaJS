Hi Umar,

I'm working on a MedusaJS e-commerce project with a blue-green deployment setup on a VPS. The deployment strategy is mostly complete but needs a final DevOps expert review to ensure production-grade reliability.

**Stack:**
- MedusaJS backend (Node.js) with separate server + worker containers
- Blue & Green instances for zero-downtime deployments
- Nginx for SSL termination and traffic routing
- PostgreSQL, Redis, Meilisearch (all persistent)
- Portainer for container management
- Frontend on Vercel (Next.js)
- CI/CD via GitHub Actions

**Current Situation:**
The deployment workflow is ~90% complete. Containers build successfully, health checks pass, and blue-green switching works in theory. However, we're experiencing edge cases with nginx config switching and state recovery that need expert attention.

**What's Working:**
✅ Docker builds & orchestration
✅ Health checks & monitoring
✅ State management & recovery logic
✅ SSL certificate handling

**What Needs Review:**
🔍 Nginx switching reliability (recreate vs reload strategy)
🔍 Edge case handling (crash loops, partial states)
🔍 Rollback logic (when previous deployment is down)
🔍 Environment variable management (40+ vars passed through 3 layers)

**Scope:**
- Review deployment scripts (~800 lines total)
- Identify and fix remaining edge cases
- Test deployment from various VPS states
- Ensure production-grade resilience
- Brief documentation of changes

**Time Estimate:** 3-4 hours max (should be straightforward for someone with your experience)

**Access:** GitHub repo + VPS SSH access provided

I've documented all the work done so far and traced through 12 different edge cases. The codebase is clean and well-commented. Just needs experienced eyes to catch anything I might have missed and ensure it's bulletproof.

Interested? Happy to discuss details or provide more context.

Thanks!

